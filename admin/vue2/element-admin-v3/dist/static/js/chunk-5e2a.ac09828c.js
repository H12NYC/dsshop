(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-5e2a"],{"1eWw":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("ma/q");e.default={props:{charData:{type:Array,default:function(){return{data:[]}}},width:{type:Number,default:1200},height:{type:Number,default:500},id:{type:String,required:!0},title:{type:String,default:null}},data:function(){return{columnPlot:null,ds:null,dv:null}},watch:{charData:function(t,e){this.drawChart(t)}},methods:{drawChart:function(){var t=this.charData;null===this.columnPlot?(this.columnPlot=new i.Column(this.id,{height:this.height,width:this.width,title:{visible:!0,text:this.title},padding:"auto",forceFit:!0,data:t,xField:"type",yField:"value",meta:{type:{alias:"类别"},value:{alias:"访问量"}},label:{visible:!0,style:{fill:"#0D0E68",fontSize:12,fontWeight:600,opacity:.6}}}),this.columnPlot.render()):this.columnPlot.changeData(t)}}}},"4SGn":function(t,e,a){"use strict";var i=function(){var t=this.$createElement;return(this._self._c||t)("div",{attrs:{id:this.id}})},n=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return n})},"6bdG":function(t,e,a){},"8TTk":function(t,e,a){"use strict";var i=a("6bdG");a.n(i).a},"8hQl":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("ma/q");e.default={props:{charData:{type:Array,default:function(){return{data:[]}}},width:{type:Number,default:1200},height:{type:Number,default:500},id:{type:String,required:!0},title:{type:String,default:null}},data:function(){return{areaPlot:null,ds:null,dv:null}},watch:{charData:function(t,e){this.drawChart(t)}},methods:{drawChart:function(){var t=this.charData;null===this.areaPlot?(this.areaPlot=new i.StackedArea(this.id,{height:this.height,width:this.width,title:{visible:!0,text:this.title},padding:"auto",forceFit:!0,data:t,xField:"date",yField:"value",stackField:"country",yAxis:{type:"dateTime",tickCount:5},legend:{visible:!0,position:"right-top"},responsive:!0}),this.areaPlot.render()):this.areaPlot.changeData(t)}}}},B4CQ:function(t,e,a){},FU13:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(a("pNQy")),n=r(a("q4vD")),s=a("SPtI"),o=a("7Qib");function r(t){return t&&t.__esModule?t:{default:t}}e.default={name:"StatisticsVisitList",components:{StackedArea:i.default,PlotColumn:n.default},data:function(){return{listLoading:!1,options:[],analyze_loading:!1,behaviorData:[],behaviorExcelData:[],behaviorDate:7,behaviorShowDate:"",behavior:[{value:7,lable:this.$t("statistics.visit.recently",{number:7})},{value:30,lable:this.$t("statistics.visit.recently",{number:30})}],keep_loading:!1,keepData:[],keepExcelData:[],keepDate:7,keepShowDate:"",keep:[{value:7,lable:this.$t("statistics.visit.recently",{number:7})},{value:30,lable:this.$t("statistics.visit.recently",{number:30})}],source_loading:!1,sourceData:[],sourceExcelData:[],sourceDate:7,sourceShowDate:"",source:[{value:7,lable:this.$t("statistics.visit.recently",{number:7})},{value:30,lable:this.$t("statistics.visit.recently",{number:307})}]}},created:function(){this.getBehavior(),this.getKeep(),this.getSource()},methods:{getBehavior:function(){var t=this;this.analyze_loading=!0,this.behaviorShowDate=(0,o.getBeforeDate)(this.behaviorDate)+this.$t("common.to")+(0,o.getBeforeDate)(1),(0,s.behavior)({date:this.behaviorDate}).then(function(e){t.behaviorData=e.data,t.behaviorExcelData=[];var a={};for(var i in t.behaviorData.map(function(e){a[e.date]||(a[e.date]={}),a[e.date]=[0,0,0,e.date],e.country===t.$t("statistics.visit.cumulative_number_of_visitors")?a[e.date][0]=e.value:e.country===t.$t("statistics.visit.number_of_forwarding")?a[e.date][1]=e.value:e.country===t.$t("statistics.visit.forwarding_number")&&(a[e.date][2]=e.value)}),a)t.behaviorExcelData.push([a[i][0],a[i][1],a[i][2]],a[i][3]);t.analyze_loading=!1})},getKeep:function(){var t=this;this.keep_loading=!0,this.keepShowDate=(0,o.getBeforeDate)(this.keepDate)+this.$t("common.to")+(0,o.getBeforeDate)(1),(0,s.keep)({date:this.keepDate}).then(function(e){t.keepData=e.data,t.keepExcelData=[];var a={};for(var i in t.keepData.map(function(e){a[e.date]||(a[e.date]={}),a[e.date]=[0,0,e.date],e.country===t.$t("statistics.visit.new_user_retention")?a[e.date][0]=e.value:e.country===t.$t("statistics.visit.active_user_retention")&&(a[e.date][1]=e.value)}),a)t.keepExcelData.push([a[i][0],a[i][1],a[i][2]]);t.keep_loading=!1})},getSource:function(){var t=this;this.source_loading=!0,this.sourceShowDate=(0,o.getBeforeDate)(this.sourceDate)+this.$t("common.to")+(0,o.getBeforeDate)(1),(0,s.source)({date:this.sourceDate}).then(function(e){t.sourceData=e.data,t.source_loading=!1})},setDate:function(t){"behavior"===t?(this.behaviorShowDate=(0,o.getBeforeDate)(this.behaviorDate)+this.$t("common.to")+(0,o.getBeforeDate)(1),this.getBehavior()):"keep"===t?(this.keepShowDate=(0,o.getBeforeDate)(this.keepDate)+this.$t("common.to")+(0,o.getBeforeDate)(1),this.getKeep()):"source"===t&&(this.sourceShowDate=(0,o.getBeforeDate)(this.sourceDate)+this.$t("common.to")+(0,o.getBeforeDate)(1),this.getSource())},handleDownload:function(t){var e=this;this.listLoading=!0,Promise.all([a.e("chunk-0d49"),a.e("chunk-2c3a")]).then(a.t.bind(null,"S/jZ",7)).then(function(a){var i=[],n=[],s="";"behavior"===t?(i=[e.$t("statistics.visit.cumulative_number_of_visitors"),e.$t("statistics.visit.number_of_forwarding"),e.$t("statistics.visit.forwarding_number"),e.$t("common.time")],s=e.$t("statistics.visit.behavioral_data"),n=e.behaviorExcelData):"keep"===t?(i=[e.$t("statistics.visit.new_user_retention"),e.$t("statistics.visit.active_user_retention"),e.$t("common.time")],s=e.$t("statistics.visit.retention_trend"),n=e.keepExcelData):"source"===t&&(i=[],n.push([]),e.sourceData.forEach(function(t){i.push(t.type),n[0].push(t.value)}),s=e.$t("statistics.visit.stream_analysis")),a.export_json_to_excel({header:i,data:n,filename:s}),e.listLoading=!1})}}}},H92S:function(t,e,a){"use strict";var i=a("B4CQ");a.n(i).a},K1Vi:function(t,e,a){"use strict";var i=a("YfE1");a.n(i).a},MNCy:function(t,e,a){"use strict";a.r(e);var i=a("FU13"),n=a.n(i);for(var s in i)"default"!==s&&function(t){a.d(e,t,function(){return i[t]})}(s);e.default=n.a},SPtI:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.behavior=function(t){return(0,i.default)({url:"statistic/behavior",method:"GET",params:t})},e.keep=function(t){return(0,i.default)({url:"statistic/keep",method:"GET",params:t})},e.source=function(t){return(0,i.default)({url:"statistic/source",method:"GET",params:t})},e.age_and_sex=function(t){return(0,i.default)({url:"statistic/age_and_sex",method:"GET",params:t})},e.pay=function(t){return(0,i.default)({url:"statistic/pay",method:"GET",params:t})};var i=function(t){return t&&t.__esModule?t:{default:t}}(a("t3Un"))},"X/Vg":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],staticClass:"dashboard-editor-container"},[a("el-row",[a("el-col",{staticStyle:{"padding-bottom":"20px"},attrs:{span:24}},[a("el-card",{attrs:{shadow:"hover"}},[a("div",{staticClass:"title"},[a("h3",[t._v(t._s(t.$t("statistics.visit.behavioral_data")))]),t._v(" "),a("div",{staticClass:"right",on:{click:function(e){t.handleDownload("behavior")}}},[t._v(t._s(t.$t("common.download")))]),t._v(" "),a("div",[a("el-select",{attrs:{placeholder:t.$t("common.select")},on:{change:function(e){t.setDate("behavior")}},model:{value:t.behaviorDate,callback:function(e){t.behaviorDate=e},expression:"behaviorDate"}},t._l(t.behavior,function(t){return a("el-option",{key:t.value,attrs:{label:t.lable,value:t.value}})})),t._v(" "),a("span",{staticClass:"date"},[t._v(t._s(t.behaviorShowDate))])],1)]),t._v(" "),a("stacked-area",{directives:[{name:"loading",rawName:"v-loading",value:t.analyze_loading,expression:"analyze_loading"}],attrs:{"char-data":t.behaviorData,id:"c1"}})],1)],1),t._v(" "),a("el-col",{staticStyle:{"padding-bottom":"20px"},attrs:{span:24}},[a("el-card",{attrs:{shadow:"hover"}},[a("div",{staticClass:"title"},[a("h3",[t._v(t._s(t.$t("statistics.visit.retention_trend")))]),t._v(" "),a("div",{staticClass:"right",on:{click:function(e){t.handleDownload("keep")}}},[t._v(t._s(t.$t("common.download")))]),t._v(" "),a("div",[a("el-select",{attrs:{placeholder:t.$t("common.select")},on:{change:function(e){t.setDate("keep")}},model:{value:t.keepDate,callback:function(e){t.keepDate=e},expression:"keepDate"}},t._l(t.keep,function(t){return a("el-option",{key:t.value,attrs:{label:t.lable,value:t.value}})})),t._v(" "),a("span",{staticClass:"date"},[t._v(t._s(t.keepShowDate))])],1)]),t._v(" "),a("stacked-area",{directives:[{name:"loading",rawName:"v-loading",value:t.keep_loading,expression:"keep_loading"}],attrs:{"char-data":t.keepData,id:"c2"}})],1)],1),t._v(" "),a("el-col",{staticStyle:{"padding-bottom":"20px"},attrs:{span:24}},[a("el-card",{attrs:{shadow:"hover"}},[a("div",{staticClass:"title"},[a("h3",[t._v(t._s(t.$t("statistics.visit.stream_analysis")))]),t._v(" "),a("div",{staticClass:"right",on:{click:function(e){t.handleDownload("source")}}},[t._v(t._s(t.$t("common.download")))]),t._v(" "),a("div",[a("el-select",{attrs:{placeholder:t.$t("common.select")},on:{change:function(e){t.setDate("source")}},model:{value:t.sourceDate,callback:function(e){t.sourceDate=e},expression:"sourceDate"}},t._l(t.source,function(t){return a("el-option",{key:t.value,attrs:{label:t.lable,value:t.value}})})),t._v(" "),a("span",{staticClass:"date"},[t._v(t._s(t.sourceShowDate))])],1)]),t._v(" "),a("plot-column",{directives:[{name:"loading",rawName:"v-loading",value:t.source_loading,expression:"source_loading"}],attrs:{"char-data":t.sourceData,id:"c3"}})],1)],1)],1)],1)},n=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return n})},XNj0:function(t,e,a){"use strict";var i=function(){var t=this.$createElement;return(this._self._c||t)("div",{attrs:{id:this.id}})},n=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return n})},YfE1:function(t,e,a){},fb3i:function(t,e,a){"use strict";a.r(e);var i=a("X/Vg"),n=a("MNCy");for(var s in n)"default"!==s&&function(t){a.d(e,t,function(){return n[t]})}(s);a("8TTk");var o=a("KHd+"),r=Object(o.a)(n.default,i.a,i.b,!1,null,"0ed891e7",null);r.options.__file="visit.vue",e.default=r.exports},pNQy:function(t,e,a){"use strict";a.r(e);var i=a("4SGn"),n=a("qtwa");for(var s in n)"default"!==s&&function(t){a.d(e,t,function(){return n[t]})}(s);a("H92S");var o=a("KHd+"),r=Object(o.a)(n.default,i.a,i.b,!1,null,null,null);r.options.__file="StackedArea.vue",e.default=r.exports},q4vD:function(t,e,a){"use strict";a.r(e);var i=a("XNj0"),n=a("uRLG");for(var s in n)"default"!==s&&function(t){a.d(e,t,function(){return n[t]})}(s);a("K1Vi");var o=a("KHd+"),r=Object(o.a)(n.default,i.a,i.b,!1,null,null,null);r.options.__file="Column.vue",e.default=r.exports},qtwa:function(t,e,a){"use strict";a.r(e);var i=a("8hQl"),n=a.n(i);for(var s in i)"default"!==s&&function(t){a.d(e,t,function(){return i[t]})}(s);e.default=n.a},uRLG:function(t,e,a){"use strict";a.r(e);var i=a("1eWw"),n=a.n(i);for(var s in i)"default"!==s&&function(t){a.d(e,t,function(){return i[t]})}(s);e.default=n.a}}]);