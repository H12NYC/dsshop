(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-69a1"],{"3qpi":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t){return t&&t.__esModule?t:{default:t}}(a("gDS+")),i=a("qTU8");e.default={name:"Update",data:function(){return{loading:!0,formLoading:!1,is_pre:!1,pre:"",data:{state:0,version:"",new_version:"",body:"",zip:""}}},created:function(){this.getInfo()},methods:{getInfo:function(){sessionStorage.getItem("update_info")&&(this.data=JSON.parse(sessionStorage.getItem("update_info"))),this.loading=!1},getDetail:function(){var t=this;this.formLoading=!0,(0,i.detail)().then(function(e){return 2===e.data.state?(t.$message.error(t.$t("update.error.state.2")),t.formLoading=!1,console.log(e.data.body),!1):3===e.data.state?(t.$message.error(t.$t("update.error.state.3")),t.formLoading=!1,console.log(e.data.body),!1):(t.data=e.data,sessionStorage.setItem("update_info",(0,n.default)(e.data)),void(t.formLoading=!1))})},openBody:function(){this.$alert('<div style="white-space: pre-wrap;">'+this.data.body+"</div>",this.$t("update.update_log"),{dangerouslyUseHTMLString:!0}).then(function(){}).catch(function(){})},handleEdit:function(t){var e=this;0===t&&(this.formLoading=!0,this.is_pre=!0),(0,i.edit)(t,this.data).then(function(t){var a=e.$refs.main;e.pre+=t.data.message,a.scrollTop=a.scrollHeight,2===t.data.state?e.$alert(e.$t("hint.succeed.win",{attribute:e.$t("common.update")}),e.$t("common.succeed"),{confirmButtonText:e.$t("common.confirm"),callback:function(){e.pre="",e.getDetail(),e.formLoading=!1,e.is_pre=!1}}):3===t.data.state?e.formLoading=!1:e.handleEdit(t.data.step)}).catch(function(){e.formLoading=!1})}}}},"6KQe":function(t,e,a){t.exports=a.p+"static/img/ver.d4e764f.svg"},"KY/g":function(t,e,a){"use strict";a.r(e);var n=a("3qpi"),i=a.n(n);for(var o in n)"default"!==o&&function(t){a.d(e,t,function(){return n[t]})}(o);e.default=i.a},Xecn:function(t,e,a){"use strict";var n=a("rhdB");a.n(n).a},dUqi:function(t,e,a){"use strict";a.r(e);var n=a("wwcw"),i=a("KY/g");for(var o in i)"default"!==o&&function(t){a.d(e,t,function(){return i[t]})}(o);a("Xecn");var r=a("KHd+"),s=Object(r.a)(i.default,n.a,n.b,!1,null,"049ccf1c",null);s.options.__file="index.vue",e.default=s.exports},rhdB:function(t,e,a){},wwcw:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("el-card",{staticClass:"card",attrs:{header:t.$t("update.title"),shadow:"hover"}},[n("div",{staticClass:"tip",staticStyle:{"background-color":"#fff6f7","border-left":"5px solid #fe6c6f"}},[n("p",[t._v(t._s(t.$t("update.tip.one")))]),t._v(" "),n("p",[t._v(t._s(t.$t("update.tip.two")))]),t._v(" "),n("p",[t._v(t._s(t.$t("update.tip.three")))]),t._v(" "),n("p",[t._v(t._s(t.$t("update.tip.four")))])]),t._v(" "),n("div",{staticStyle:{"text-align":"center"}},[n("img",{staticStyle:{height:"140px"},attrs:{src:a("6KQe")}}),t._v(" "),n("h2",{staticStyle:{"margin-top":"15px"}},[t._v("TFSHOP")]),t._v(" "),n("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}]},[n("p",{staticStyle:{"margin-top":"5px"}},[t._v(t._s(t.$t("update.current_version"))+"："+t._s(t.data.version))]),t._v(" "),n("p",{staticStyle:{"margin-top":"5px"}},[t._v(t._s(t.$t("update.latest_version"))+"："+t._s(t.data.new_version))]),t._v(" "),1===t.data.state?[n("p",{staticStyle:{"margin-top":"5px"}},[n("el-button",{attrs:{type:"primary",plain:"",round:""},on:{click:t.openBody}},[t._v(t._s(t.$t("update.update_log")))])],1),t._v(" "),n("p",{staticStyle:{"margin-top":"5px"}},[n("el-button",{attrs:{loading:t.formLoading,round:"",type:"primary"},on:{click:function(e){t.handleEdit(0)}}},[t._v(t._s(t.$t("update.updates")))])],1),t._v(" "),t.is_pre?n("pre",{ref:"main",staticClass:"pre",domProps:{innerHTML:t._s(t.pre)}}):t._e()]:[n("el-button",{attrs:{loading:t.formLoading,round:"",type:"success"},on:{click:t.getDetail}},[t._v(t._s(t.$t("update.detection_update")))])]],2)])])],1)},i=[];a.d(e,"a",function(){return n}),a.d(e,"b",function(){return i})}}]);